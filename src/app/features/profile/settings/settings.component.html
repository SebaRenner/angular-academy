<div class="profile">
    <mat-card class="large-centred-content">
      <mat-card-header>
        <mat-card-title color="primary">
          Settings
        </mat-card-title>
      </mat-card-header>
      <mat-card-content class="profile-content" *ngIf="currentProfile$ | async as currentProfile">
        <form #loginForm="ngForm" (ngSubmit)="save(currentProfile)">
          <div>
            <mat-form-field [ngClass]="{'has-error': name.errors && (name.touched || name.dirty)}">
              <mat-label for="name">Name</mat-label>
              <input matInput
                     type="text"
                     name="name"
                     id="name"
                     [(ngModel)]="currentProfile.name"
                     #name="ngModel"
                     required>
              <mat-error *ngIf="!name.valid && (name.touched || name.dirty)" class="help-block">Name must not be empty</mat-error> 
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <mat-label for="firstName">First Name</mat-label>
              <input matInput
                     type="text"
                     name="firstName"
                     id="firstName"
                     [(ngModel)]="currentProfile.firstName"
                     #firstName="ngModel">
            </mat-form-field>
          </div>
          <div>
            <mat-form-field>
              <mat-label for="lastName">Last Name</mat-label>
              <input matInput
                     type="text"
                     name="lastName"
                     id="lastName"
                     [(ngModel)]="currentProfile.lastName"
                     #lastName="ngModel">
            </mat-form-field>
          </div>
          <div>
           <button type="submit" mat-raised-button color="primary" [disabled]="loginForm.invalid">Save</button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
